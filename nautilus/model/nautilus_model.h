#ifndef add_h
#define add_h

/* Warning, this file is autogenerated by cbindgen. Don't modify this manually. */

#include <stdint.h>

#define FIXED_EXPONENT 9

#define FIXED_PRECISION 0.000000001

typedef enum BookLevel {
  L1 = 1,
  L2 = 2,
  L3 = 3,
} BookLevel;

typedef enum OrderSide {
  Buy = 1,
  Sell = 2,
} OrderSide;

typedef struct BTreeMap_Price__Level BTreeMap_Price__Level;

typedef struct HashMap_u64__Price HashMap_u64__Price;

typedef struct String String;

typedef struct Symbol {
  struct String *value;
} Symbol;

typedef struct Venue {
  struct String *value;
} Venue;

typedef struct Price {
  int64_t mantissa;
  uint8_t precision;
} Price;

typedef struct Quantity {
  uint64_t mantissa;
  uint8_t precision;
} Quantity;

typedef struct Ladder {
  enum OrderSide side;
  struct BTreeMap_Price__Level *levels;
  struct HashMap_u64__Price *cache;
} Ladder;

typedef struct InstrumentId {
  struct Symbol symbol;
  struct Venue venue;
} InstrumentId;

typedef struct OrderBook {
  struct Ladder bids;
  struct Ladder asks;
  struct InstrumentId instrument_id;
  enum BookLevel book_level;
  enum OrderSide last_side;
  int64_t ts_last;
} OrderBook;

struct Symbol symbol_new(const char *ptr);

const char *symbol_as_bytes(struct Symbol self);

struct Venue venue_new(const char *ptr);

const char *venue_as_bytes(struct Venue self);

struct Price price_new(double value, uint8_t precision);

struct Quantity quantity_new(double value, uint8_t precision);

struct OrderBook order_book_new(struct InstrumentId instrument_id, enum BookLevel book_level);

#endif /* add_h */
